პატარა მოდული განკუთვნილია იმ მინიმალური საკითხებისთვის, რომელიც დაგეხემარებათ დაადასტუროთ პროდუქტები ან სერვისები საიტზე, რათა მოახდინოთ გადახდები, მიყიდოთ პროდუქტი მომხმარებელს.

# მიმართულება
სანამ მუშაობას დაიწყებთ, აუცილებელია ფლობდეთ პლატფორმაზე ექაუნთს: {(ლინკი)}, რათა ამასთანავე მიიღოთ ავთენტიკაციის გასაღები, რომელიც მოთხოვნების გაგზავნისთვის აუცილებელია. როდესაც დარეგისტრირდებით, გადაგიყვანთ Dashboard-ის გვერდზე, სადაც (ამ ეტაპზე ერთი) სქემა/დიაგრამა იქნება. Sidebar-ზე, იქნება {მომხმარებლის} Workspace, რაც არის თქვენი სამუშაო კუთხე. როდესაც დააჭერთ, იქნება dropdown/collapsible, შემდეგ გადადით Setting-ების გვერდზე; შემდეგ კი 'Account Details'-ს დააჭირეთ. გადაგიყვანთ გვერდზე, სადაც იქნება ზოგადი დეტალები თქვენი ექაუნთის შესახებ. შავ ოთკუთხედში იმყოფება სწორედ ის გასაღები რომელიც უნდა იხმაროთ POST მოთხოვნების გაგზავნის დროს. 

# პროდუქტების დამატება
ეს მისამართი ყველა გვერდზე ხელმისაწვდომია: Sidebar-ზე, ჩამოშალეთ 'Product Catalog', პირველი ლინკი გადაგიყვანთ პროდუქტების სიაზე. საწყის ეტაპზე, ის ცარიელია. '+ Add Product' ღილაკის გამოყენებით შეგეძლებათ შექმნათ ახალი პროდუქტი. უნდა მიუთითოთ შემდეგი დეტალები:
- Name -> პროდუქტის სახელი
- SKU -> ნაცნობი იდენთიფიკატორი {(იხილეთ მეტი)}
- Price -> პროდუქტის ფასი
ამ მონაცემებიდან გამომდინარე, შეიქმნება ახალი პროდუქტი, ჩამოწერილი იქნება ყველა ის ინფორმაცია რაც თქვენ მიუთითეთ, ამასთანავე თავში დაემატება პროდუქტის იდენთიპიკატორი (მინიჭებული სისტემის მიერ, უნდა გამოიყენოთ POST მოთხოვნებში). ბოლოში არის სამი წერტილის ღილაკი, იქიდან შეგიძლიათ დააკოპიროთ id, SKU ან წაშალოთ კონკრეტული პროდუქტი.

# გადახდების პროცესი
**გაითვალისწინეთ, რომ ვალუტა ავტომატურად ყენდება ლარზე**
დააიმპორტეთ კონკრეტული მოდული თქვენს React-ის პროექტში (მორგებულია და მუშაობს React-ზე და Typescript + React–ზეც).
```tsx
import { soteria } from './soteria-sdk/src/web/index.js';
```
თუ თქვენს საიტს გააჩნია კალათა, შესაძლებელია გამოიყენოთ მსგავსი მიდგომა:
```tsx
const cart = [
  { productId: "prod_6891c646", quantity: 2 },
  { productId: "prod_7210a112", quantity: 1 }  
];
```
თუ არის მხოლოდ ინდივიდუალური პროდუქტის შესაძლებლობა, მარტივად:
```tsx
const cart = [
  { productId: "prod_6891c646", quantity: 2 }, 
];
```
თუ გინდათ მოხერდხდეს გადახდის ფუნქცია (შეიქმნება სესია და ნავიგაცია მოხდება ვირტუალურ "სალაროში"), ამისთვის გამოიყენება კონკრეტული ფუნქცია:
```tsx
const handlePayment = async () => {
  try {
    const response = await fetch("url-to-your-server/buy-item", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ items: cart }) 
    });

    const data = await response.json();
    if (data.clientSecret) {
      soteria.redirectToCheckout(data.clientSecret);
    }
    
    } catch (e) {
      console.error("Payment failed", e);
    }
  };
```
კონკრეტულ კომპონენტში, შეგიძლიათ ეს ფუნქცია არგუმენტების გარეშე გამოიყენოთ:
```tsx
return (
  <div className="p-10">
    <h1>Sneakers - $99</h1>
    <button onClick={handlePayment} className="bg-black text-white p-4">
      Pay with Soteria
    </button>
    </div>
)
```
(თუ იყენებთ Node.js-ს) უსაფრთხოებისთვის საჭიროა ჩააშენოთ endpoint-ი თქვენს სერვერზე, რათა ავთენტიკაციამ უსაფრთხოდ ჩაიაროს:
```js
import { soteria } from './soteria-sdk/src/node/js/index.js';

app.post("/buy-item", async (req, res) => {
  try {
    const session = await soteria.createCheckout({
      items: req.body.items, 
      passkey: "mk_29d...cbe",
      success_url: "url-to-your-frontend-success-page"
    });

    res.json({ clientSecret: session.client_secret });
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});
```
(თუ იყენებთ Typescript + Node.js)
```tsx
import { soteria } from './soteria-sdk/src/node/index.js';
import type {Request, Response} from 'express';

app.post("/buy-item", async (req: Request, res: Response) => {
  try {
    const session = await soteria.createCheckout({
      items: req.body.items, 
      passkey: "mk_29d...cbe",
      success_url: "url-to-your-frontend-success-page"
    });

    res.json({ clientSecret: session.client_secret });
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});
```
